function prepend(e,t){for(var n in t)n in e||(e[n]=t[n]);return e}var babel=require("systemjs-babel-build").babel,es2015=require("systemjs-babel-build").presetES2015,es2015Register=require("systemjs-babel-build").presetES2015Register,modulesRegister=require("systemjs-babel-build").modulesRegister,stage3=require("systemjs-babel-build").pluginsStage3,stage2=require("systemjs-babel-build").pluginsStage2,stage1=require("systemjs-babel-build").pluginsStage1,react=require("systemjs-babel-build").pluginsReact,externalHelpers=require("systemjs-babel-build").externalHelpers,runtimeTransform=require("systemjs-babel-build").runtimeTransform,babelRuntimePath,modularHelpersPath=System.decanonicalize("./babel-helpers/",module.id),externalHelpersPath=System.decanonicalize("./babel-helpers.js",module.id),regeneratorRuntimePath=System.decanonicalize("./regenerator-runtime.js",module.id);".js"==modularHelpersPath.substr(modularHelpersPath.length-3,3)&&(modularHelpersPath=modularHelpersPath.substr(0,modularHelpersPath.length-3)),System.getCanonicalName&&(modularHelpersPath=System.getCanonicalName(modularHelpersPath),externalHelpersPath=System.getCanonicalName(externalHelpersPath),regeneratorRuntimePath=System.getCanonicalName(regeneratorRuntimePath)),SystemJS._loader.loadedTranspilerRuntime=!0;var defaultBabelOptions={modularRuntime:!0,sourceMaps:!0,es2015:!0,stage3:!0,stage2:!0,stage1:!1,react:!1,compact:!1,comments:!0};exports.translate=function(e,t){if("global"==e.metadata.format||"amd"==e.metadata.format||"json"==e.metadata.format)throw new TypeError("plugin-babel cannot transpile "+e.metadata.format+' modules. Ensure "'+e.name+'" is configured not to use this loader.');var n=this,r=n.pluginLoader||n,l=t?t.outputESM:n.builder,a={};e.metadata.babelOptions&&prepend(a,e.metadata.babelOptions),n.babelOptions&&prepend(a,n.babelOptions),prepend(a,defaultBabelOptions);var o=[];return a.presets&&a.presets.forEach(function(e){"string"==typeof e&&o.push(r["import"](e,module.id))}),a.plugins&&a.plugins.forEach(function(e){e="string"==typeof e?e:Array.isArray(e)&&"string"==typeof e[0]&&e[0],e&&o.push(r["import"](e,module.id).then(function(e){return e["default"]||e}))}),Promise.all(o).then(function(r){var o=0,u=[],i=[];if(a.modularRuntime){if("cjs"==e.metadata.format)throw new TypeError("plugin-babel does not support modular runtime for CJS module transpilations. Set babelOptions.modularRuntime: false if needed.");u.push(runtimeTransform)}else"cjs"==e.metadata.format?e.source='var babelHelpers = require("'+externalHelpersPath+'");'+e.source:e.source='import babelHelpers from "'+externalHelpersPath+'";'+e.source,u.push(externalHelpers);a.es2015?u.push(l||"cjs"==e.metadata.format?es2015:es2015Register):l||"cjs"==e.metadata.format||u.push(modulesRegister),a.stage3&&u.push({plugins:stage3}),a.stage2&&u.push({plugins:stage2}),a.stage1&&u.push({plugins:stage1}),a.react&&u.push({plugins:react}),a.presets&&a.presets.forEach(function(e){"string"==typeof e?u.push(r[o++]):u.push(e)}),a.plugins&&a.plugins.forEach(function(e){"string"==typeof e?i.push(r[o++]):Array.isArray(e)&&"string"==typeof e[0]?i.push([r[o++],e[1]]):i.push(e)});var s=babel.transform(e.source,{babelrc:!1,plugins:i,presets:u,filename:e.address,sourceFileName:e.address,moduleIds:!1,sourceMaps:t&&t.sourceMaps||a.sourceMaps,inputSourceMap:e.metadata.sourceMap,compact:a.compact,comments:a.comments,code:!0,ast:!0,resolveModuleSource:function(e){if("babel-runtime/helpers/"==e.substr(0,22))e=modularHelpersPath+e.substr(22)+".js";else if("babel-runtime/regenerator"==e)e=regeneratorRuntimePath;else if("babel-runtime/"==e.substr(0,14)){if(!babelRuntimePath&&(babelRuntimePath=System.decanonicalize("babel-runtime/",module.id),"/"!==babelRuntimePath[babelRuntimePath.length-1]&&(babelRuntimePath+="/"),".js"==babelRuntimePath.substr(babelRuntimePath.length-3,3)&&(babelRuntimePath=babelRuntimePath.substr(0,babelRuntimePath.length-3)),n.getCanonicalName&&(babelRuntimePath=n.getCanonicalName(babelRuntimePath)),"babel-runtime/"==babelRuntimePath))throw new Error("The babel-runtime module must be mapped to support modular helpers and builtins. If using jspm run jspm install npm:babel-runtime.");e=babelRuntimePath+e.substr(14)+".js"}return e}});return a.modularRuntime||e.metadata.deps.push(externalHelpersPath),e.metadata.format&&"detect"!=e.metadata.format&&"esm"!=e.metadata.format||(e.metadata.format=l?"esm":"register"),e.metadata.sourceMap=s.map,s.code})};